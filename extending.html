

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extending Social &mdash; Social 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Social 0.1 documentation" href="index.html"/>
        <link rel="next" title="Contributing" href="contributing.html"/>
        <link rel="prev" title="Plugins" href="plugins.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Social
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Extending Social</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#breadcrumbs-objects">Breadcrumbs objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#info-objects">Info objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#full-account-class-documentation">Full <code class="docutils literal"><span class="pre">Account</span></code> Class Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Social</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Extending Social</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/extending.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extending-social">
<span id="extending"></span><h1>Extending Social<a class="headerlink" href="#extending-social" title="Permalink to this headline">¶</a></h1>
<p>Social has a pretty modular design.  Each type of social network account is
represented by a subclass of the <code class="docutils literal"><span class="pre">social.accounts.Account</span></code> class.  The main
loop is an implementation of a breadth first search: the nodes are Accounts, and
the edges are returned by these accounts.</p>
<p>Essentially, each <code class="docutils literal"><span class="pre">Account</span></code> implements three functions which directly
contribute to the search.</p>
<ul class="simple">
<li>First, a static method <code class="docutils literal"><span class="pre">match()</span></code>, which takes something I refer to as
breadcrumbs.  The breadcrumbs are essentially things that may lead to a new
social networking account - URL, email, and username.  More on that later.
Essentially, this function should return a truthy value if the breadcrumbs
match an account in this social network.</li>
<li>Second, a constructor that accepts the same breadcrumbs as <code class="docutils literal"><span class="pre">match()</span></code>.
This creates an <code class="docutils literal"><span class="pre">Account</span></code> instance that corresponds to whatever social
network account matched in <code class="docutils literal"><span class="pre">match()</span></code>.</li>
<li>Finally, an <code class="docutils literal"><span class="pre">expand()</span></code> instance method, which takes an info object and
returns an iterable of breadcrumbs.  This function visits the social
networking account and returns all possible hints to other social networking
accounts.  It also updates the info object with more info about the person.</li>
</ul>
<p>So, with this functionality, you can see how the basic algorithm works:</p>
<div class="code highlight-python"><div class="highlight"><pre>while queue is not empty:
    get an Account from the queue
    expand it
    for each resulting breadcrumb:
        if any account type matches:
            create an instance of it and add it to the queue
</pre></div>
</div>
<div class="section" id="breadcrumbs-objects">
<h2>Breadcrumbs objects<a class="headerlink" href="#breadcrumbs-objects" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">match()</span></code> and <code class="docutils literal"><span class="pre">__init__()</span></code> functions of <code class="docutils literal"><span class="pre">Accounts</span></code> both take something
I refer to as breadcrumbs.  These are just standard keyword arguments that
should be used whenever breadcrumbs are expected.  More commonly, they are just
splatted dictionaries.  Here are the current keyword arguments expected whenever
&#8220;breadcrumbs&#8221; are expected:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">url</span></code>: This is usually what&#8217;s expected and returned.  Essentially, a URL may
be to another social network profile, or a personal website.</li>
<li><code class="docutils literal"><span class="pre">email</span></code>: Maybe you can search for a profile using an email address.</li>
<li><code class="docutils literal"><span class="pre">username</span></code>: This one is a bit less reliable, so it should <em>not</em> be matched
against, only used in the constructor.</li>
</ul>
</div>
<div class="section" id="info-objects">
<h2>Info objects<a class="headerlink" href="#info-objects" title="Permalink to this headline">¶</a></h2>
<p>In addition, the <code class="docutils literal"><span class="pre">expand()</span></code> function is passed a parameter named <code class="docutils literal"><span class="pre">info</span></code>.
This is a dictionary-like object that should be consulted if any additional
information (like a person&#8217;s name) is needed.  It&#8217;s not quite like an ordinary
dictionary though.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">info</span><span class="p">[</span><span class="s">&#39;emails&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;example@example.com&#39;</span>
</pre></div>
</div>
<p>The above sample code will add the email to a set containing all emails found so
far (instead of overwriting an existing email).  When you access a property and
it exists, it will always return back a set of values instead of just a single
value.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">usernames</span></code>: should map to the set of usernames we&#8217;ve seen this person use
thus far in the search.</li>
<li><code class="docutils literal"><span class="pre">emails</span></code>: self explanatory</li>
<li><code class="docutils literal"><span class="pre">name</span></code>: should map to the person&#8217;s full name, or None.</li>
<li><code class="docutils literal"><span class="pre">location</span></code>: the person&#8217;s location</li>
<li><code class="docutils literal"><span class="pre">phones</span></code>: a set of phone numbers (as strings)</li>
</ul>
<p>Your code should not assume that any of these keys exist.  Create them if they
do not exist, but make sure they are as documented here.  Any key you would like
to set, but already exists, you may want to instead add your value to a list in
<code class="docutils literal"><span class="pre">key-others</span></code>.  For example, if you have a fullname that differs from the one
already there, add it to a list in the key <code class="docutils literal"><span class="pre">fullname-others</span></code>.</p>
<p>I&#8217;ll probably make a class to abstract away all these details soon.</p>
</div>
<div class="section" id="full-account-class-documentation">
<h2>Full <code class="docutils literal"><span class="pre">Account</span></code> Class Documentation<a class="headerlink" href="#full-account-class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="social.accounts.Account">
<em class="property">class </em><code class="descclassname">social.accounts.</code><code class="descname">Account</code><span class="sig-paren">(</span><em>*breadcrumbs</em><span class="sig-paren">)</span><a class="headerlink" href="#social.accounts.Account" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all types of social networking accounts.</p>
<p>In order for an Account to be considered in the search, it must satisfy two
requirements:</p>
<ol class="arabic simple">
<li>It must be a direct subclass of Account.  As of right now, only direct
subclasses are included.  However, this may change if I find it
convenient to include intermediate classes for utility.</li>
<li>It must have been imported prior to the search, so that the class name is
registered in <code class="docutils literal"><span class="pre">Account.__subclasses__()</span></code>.</li>
</ol>
<p><em>Constructor</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>breadcrumbs</strong> (<em>dict</em>) &#8211; The breadcrumbs object to construct the account
from.  If meth:<cite>match()</cite> returned truthy, this should succeed.  If
<code class="xref py py-meth docutils literal"><span class="pre">match()</span></code> returned false-y, it may still return an instance, but the
returned account is less &#8220;guaranteed&#8221; to be definitely the same person&#8217;s.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises ValueError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The constructor shall raise <code class="docutils literal"><span class="pre">ValueError</span></code> in the case
that the breadcrumbs cannot be resolved into an account instance.  This
should not happen if <code class="xref py py-meth docutils literal"><span class="pre">match()</span></code> returned truthy.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="social.accounts.Account.__hash__">
<code class="descname">__hash__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#social.accounts.Account.__hash__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hash, so the Account may be kept in a set/dict.</p>
</dd></dl>

<dl class="method">
<dt id="social.accounts.Account.__str__">
<code class="descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#social.accounts.Account.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string representation of this account.</p>
<p>This must return <code class="docutils literal"><span class="pre">&quot;ClassName(necessary=args)&quot;</span></code>, such that if you
eval&#8217;d it with the correct imports, you would get a valid account
object.  The implementation should prefer the easy arguments,
e.g. username.</p>
</dd></dl>

<dl class="method">
<dt id="social.accounts.Account.expand">
<code class="descname">expand</code><span class="sig-paren">(</span><em>info</em><span class="sig-paren">)</span><a class="headerlink" href="#social.accounts.Account.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterable of breadcrumb dicts!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>info</strong> &#8211; A dictionary that should contain information about the
person.  It should be updated with any information you come across,
and you may want to use any info in it to help narrow down your
search.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An iterable of breadcrumb dictionaries that the search will try
to match for new accounts.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="social.accounts.Account.match">
<em class="property">static </em><code class="descname">match</code><span class="sig-paren">(</span><em>*breadcrumbs</em><span class="sig-paren">)</span><a class="headerlink" href="#social.accounts.Account.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Return truthy if the breadcrumbs match the account.</p>
<p>The breadcrumbs are described in detail in the documentation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>breadcrumbs</strong> (<em>dict</em>) &#8211; Key/value breadcrumbs to attempt to match.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Truthy if the breadcrumbs can be turned into an instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="social.accounts.Account.shortname">
<em class="property">static </em><code class="descname">shortname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#social.accounts.Account.shortname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name used on the command line.</p>
<p>Command line arguments are passed in <code class="docutils literal"><span class="pre">key:value</span></code> style.  This should
return the key that users can use on the command line to specify a
username for this account.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="plugins.html" class="btn btn-neutral" title="Plugins" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stephen Brennan.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>